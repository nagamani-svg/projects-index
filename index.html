<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flappy Game</title>

<style>
body{
    margin:0;
    text-align:center;
    font-family:Arial;
    background:linear-gradient(to bottom,#4ec0ca,#ffffff);
}

h1{
    margin:10px;
}

#gameArea{
    position:relative;
    margin:auto;
    width:100%;
    max-width:500px;
    height:500px;
    background:#70c5ce;
    overflow:hidden;
    border:4px solid black;
}

#bird{
    position:absolute;
    width:40px;
    height:40px;
    background:yellow;
    border-radius:50%;
    top:200px;
    left:80px;
}

.pipe{
    position:absolute;
    width:60px;
    background:green;
}

#menu{
    margin:10px;
}

button{
    padding:12px 30px;
    font-size:18px;
    margin:5px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:orange;
}

#gameOver{
    position:absolute;
    top:200px;
    width:100%;
    text-align:center;
    display:none;
}
</style>
</head>
<body>

<h1>Flappy Bird ðŸŽ®</h1>
<div id="menu">
    <button onclick="startGame()">START</button>
    <button onclick="exitGame()">EXIT</button>
</div>

<div id="gameArea">
    <div id="bird"></div>
    <div id="gameOver">
        <h2>GAME OVER</h2>
        <button onclick="startGame()">RESTART</button>
    </div>
</div>

<script>
let bird = document.getElementById("bird");
let gameArea = document.getElementById("gameArea");
let gameOverBox = document.getElementById("gameOver");

let gravity = 0.6;
let velocity = 0;
let birdY = 200;
let score = 0;
let gameRunning = false;

function startGame(){
    document.querySelectorAll(".pipe").forEach(p=>p.remove());
    birdY = 200;
    velocity = 0;
    gameRunning = true;
    gameOverBox.style.display="none";
}

function exitGame(){
    gameRunning = false;
    document.querySelectorAll(".pipe").forEach(p=>p.remove());
}

function jump(){
    if(gameRunning){
        velocity = -8;
    }
}

document.addEventListener("keydown", jump);
document.addEventListener("touchstart", jump);

function createPipe(){
    if(!gameRunning) return;

    let pipeTopHeight = Math.random()*200+50;
    let gap = 150;

    let pipeTop = document.createElement("div");
    pipeTop.classList.add("pipe");
    pipeTop.style.height = pipeTopHeight+"px";
    pipeTop.style.top="0px";
    pipeTop.style.left="500px";

    let pipeBottom = document.createElement("div");
    pipeBottom.classList.add("pipe");
    pipeBottom.style.height=(500-pipeTopHeight-gap)+"px";
    pipeBottom.style.bottom="0px";
    pipeBottom.style.left="500px";

    gameArea.appendChild(pipeTop);
    gameArea.appendChild(pipeBottom);

    let move = setInterval(()=>{
        let left = parseInt(pipeTop.style.left);
        pipeTop.style.left = left-3+"px";
        pipeBottom.style.left = left-3+"px";

        if(left<-60){
            pipeTop.remove();
            pipeBottom.remove();
            clearInterval(move);
        }

        if(
            left<120 && left>40 &&
            (birdY<pipeTopHeight || birdY>pipeTopHeight+gap)
        ){
            gameOver();
        }

    },20);
}

setInterval(createPipe,2000);

function gameOver(){
    gameRunning=false;
    gameOverBox.style.display="block";
}

function gameLoop(){
    if(gameRunning){
        velocity+=gravity;
        birdY+=velocity;
        bird.style.top=birdY+"px";

        if(birdY>460 || birdY<0){
            gameOver();
        }
    }
    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>