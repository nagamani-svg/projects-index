<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Snake Game</title>

<style>
body{
    margin:0;
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    font-family:Arial;
    text-align:center;
    color:white;
    overflow:hidden;
}
#gameContainer{
    display:none;
}
canvas{
    background:black;
    border:4px solid white;
}
button{
    padding:10px 20px;
    margin:5px;
    font-size:18px;
    border:none;
    border-radius:10px;
    cursor:pointer;
}
#startBtn{background:green;color:white;}
#exitBtn{background:red;color:white;}
#restartBtn{background:orange;color:white;display:none;}
#scoreBoard{
    font-size:20px;
    margin:5px;
}
#controls{
    margin-top:10px;
}
.controlBtn{
    width:60px;height:60px;
    font-size:25px;
    border-radius:50%;
    background:white;
    color:black;
}
</style>
</head>

<body>

<h1>üêç Ultimate Snake Challenge</h1>

<div id="menu">
<button id="startBtn">Start Game</button>
<button id="exitBtn">Exit</button>
</div>

<div id="gameContainer">
<div id="scoreBoard">
Score: <span id="score">0</span> |
Level: <span id="level">1</span>
</div>

<canvas id="game" width="400" height="400"></canvas>
<br>
<button id="restartBtn">Restart</button>

<div id="controls">
<br>
<button class="controlBtn" onclick="changeDir('up')">‚¨Ü</button><br>
<button class="controlBtn" onclick="changeDir('left')">‚¨Ö</button>
<button class="controlBtn" onclick="changeDir('down')">‚¨á</button>
<button class="controlBtn" onclick="changeDir('right')">‚û°</button>
</div>
</div>

<script>
let canvas=document.getElementById("game");
let ctx=canvas.getContext("2d");

let box=20;
let snake=[{x:9*box,y:10*box}];
let direction="right";
let food=randomFood();
let score=0;
let level=1;
let game;
let speed=150;

let colors=["lime","yellow","orange","red","cyan","pink","purple","white","gold","aqua"];

function randomFood(){
    return {
        x:Math.floor(Math.random()*19+1)*box,
        y:Math.floor(Math.random()*19+1)*box
    };
}

function draw(){
    ctx.fillStyle="black";
    ctx.fillRect(0,0,400,400);

    for(let i=0;i<snake.length;i++){
        ctx.fillStyle=colors[level-1];
        ctx.fillRect(snake[i].x,snake[i].y,box,box);
    }

    ctx.fillStyle="gold";
    ctx.fillRect(food.x,food.y,box,box);

    let snakeX=snake[0].x;
    let snakeY=snake[0].y;

    if(direction=="left") snakeX-=box;
    if(direction=="up") snakeY-=box;
    if(direction=="right") snakeX+=box;
    if(direction=="down") snakeY+=box;

    if(snakeX==food.x && snakeY==food.y){
        score+=10;
        document.getElementById("score").innerText=score;
        food=randomFood();
        playBeep();
        if(score%50==0 && level<10){
            level++;
            speed-=10;
            clearInterval(game);
            game=setInterval(draw,speed);
            document.getElementById("level").innerText=level;
        }
    } else {
        snake.pop();
    }

    let newHead={x:snakeX,y:snakeY};

    if(snakeX<0 || snakeX>=400 || snakeY<0 || snakeY>=400 || collision(newHead,snake)){
        clearInterval(game);
        document.getElementById("restartBtn").style.display="inline";
    }

    snake.unshift(newHead);
}

function collision(head,array){
    for(let i=0;i<array.length;i++){
        if(head.x==array[i].x && head.y==array[i].y){
            return true;
        }
    }
    return false;
}

function changeDir(dir){
    direction=dir;
}

document.addEventListener("keydown",event=>{
    if(event.keyCode==37) direction="left";
    if(event.keyCode==38) direction="up";
    if(event.keyCode==39) direction="right";
    if(event.keyCode==40) direction="down";
});

function playBeep(){
    let audio=new AudioContext();
    let oscillator=audio.createOscillator();
    oscillator.type="square";
    oscillator.frequency.value=300;
    oscillator.connect(audio.destination);
    oscillator.start();
    setTimeout(()=>oscillator.stop(),100);
}

document.getElementById("startBtn").onclick=function(){
    document.getElementById("menu").style.display="none";
    document.getElementById("gameContainer").style.display="block";
    game=setInterval(draw,speed);
};

document.getElementById("restartBtn").onclick=function(){
    location.reload();
};

document.getElementById("exitBtn").onclick=function(){
    window.close();
};
</script>

</body>
</html>